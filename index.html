<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Service Worker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h4>Scope of the service worker</h4>
  <p>The scope of the service worker is where the file is located. You can pass an additional parameter as scope.</p>

  <code>
    navigator.serviceWorker.register('./sw.js', { scope: '/brand' });
  </code>

  <p>Here the service worker can also access the "brand" directory.</p>
  <p>Whenever the browser calls service worker, there is an external parameter called "Serice-Worker-Allowed" and the path which specifies the allowed directory. This is the </p>

  <script>
    let serviceWorkerPath = window.location.href.match('github') ? 'https://jagatjeevan.github.io/serviceWorkerSpike/sw.js' : './sw.js';
    if ('serviceWorker' in navigator) {
      console.log("service worker supported");
      // Registering Service Worker
      navigator.serviceWorker.register(serviceWorkerPath).catch((err) => { console.log(err); });
    } else {
      console.log("service worker is not supported");
    }
  </script>
</body>
</html>
